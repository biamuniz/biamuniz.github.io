<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt" xml:lang="pt"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.528">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Bianca Muniz">
<title>ggploTX</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../icons8-home-32.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Nenhum resultado",
    "search-matching-documents-text": "documentos correspondentes",
    "search-copy-link-title": "Copiar link para a busca",
    "search-hide-matches-text": "Esconder correspondências adicionais",
    "search-more-match-text": "mais correspondência neste documento",
    "search-more-matches-text": "mais correspondências neste documento",
    "search-clear-button-title": "Limpar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Procurar"
  }
}</script>
<meta property="og:title" content="ggploTX">
<meta property="og:description" content="ou: minha experiência na cidade de Austin por meio de dados e gráficos feitos em R">
<meta property="og:image" content="https://biamuniz.github.io/assets/images/social-profile.png">
<meta name="twitter:title" content="ggploTX">
<meta name="twitter:description" content="ou: minha experiência na cidade de Austin por meio de dados e gráficos feitos em R">
<meta name="twitter:image" content="https://biamuniz.github.io/assets/images/social-profile.png">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../assets/icons8-home-32.png" alt="" class="navbar-logo"></a>
  </div>
            <div id="quarto-search" class="" title="Procurar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Alternar de navegação" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../sobre.html"> 
<span class="menu-text">Sobre</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publicacoes.html"> 
<span class="menu-text">Publicações</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks/index.html"> 
<span class="menu-text">Talks</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">ggploTX</h1>
            <p class="subtitle lead">ou: minha experiência na cidade de Austin por meio de dados e gráficos feitos em R</p>
                                <div class="quarto-categories">
                <div class="quarto-category">Texas</div>
                <div class="quarto-category">R</div>
                <div class="quarto-category">Intercâmbio</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autor</div>
      <div class="quarto-title-meta-contents">
               <p>Bianca Muniz </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Data de Publicação</div>
      <div class="quarto-title-meta-contents">
        <p class="date">24 de março de 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Nesta página</h2>
   
  <ul>
<li><a href="#setup-inicial" id="toc-setup-inicial" class="nav-link active" data-scroll-target="#setup-inicial">Setup inicial</a></li>
  <li><a href="#minha-primeira-viagem-de-avi%C3%A3o" id="toc-minha-primeira-viagem-de-avião" class="nav-link" data-scroll-target="#minha-primeira-viagem-de-avi%C3%A3o">Minha primeira viagem de avião</a></li>
  <li><a href="#t%C3%A1-calor-at%C3%A9-de-noite" id="toc-tá-calor-até-de-noite" class="nav-link" data-scroll-target="#t%C3%A1-calor-at%C3%A9-de-noite">Tá calor até de noite</a></li>
  <li><a href="#recebendo-em-brl-gastando-em-usd" id="toc-recebendo-em-brl-gastando-em-usd" class="nav-link" data-scroll-target="#recebendo-em-brl-gastando-em-usd">Recebendo em BRL, gastando em USD</a></li>
  <li><a href="#gastando-em-usd" id="toc-gastando-em-usd" class="nav-link" data-scroll-target="#gastando-em-usd">… gastando em USD</a></li>
  <li>
<a href="#one-more-weekend-in-this-city" id="toc-one-more-weekend-in-this-city" class="nav-link" data-scroll-target="#one-more-weekend-in-this-city">One more weekend in this city…</a>
  <ul class="collapse">
<li><a href="#os-artistas-que-mais-ouvi-nos-meus-quatro-meses-nos-eua" id="toc-os-artistas-que-mais-ouvi-nos-meus-quatro-meses-nos-eua" class="nav-link" data-scroll-target="#os-artistas-que-mais-ouvi-nos-meus-quatro-meses-nos-eua">Os artistas que mais ouvi nos meus quatro meses nos EUA</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><p>Estive em Austin durante quatro meses em 2022. Entre setembro e dezembro, precisei lidar com #PerrenguesChiques (situações que te irritam mas vc tá no exterior, então tem um glamour nesse incômodo), como o calor texano e acompanhar as variações do dólar, mas conheci lugares, pessoas, novos hábitos maravilhosos e um pouco mais sobre mim.</p>
<p>Na tentativa de treinar minha fluência no tidyverse e conhecer outros pacotes do R, revisitei umas informações do meu período de intercâmbio. Eu estruturei muitos dados nessa época, aqueles que já rastreio automaticamente (como scrobbles do last.fm) ou os que tive que monitorar para prestação de contas (o câmbio, minhas notas fiscais).</p>
<p>Esse post é um relato “dataficado” da cidade mais esquisita do Texas.</p>
<section id="setup-inicial" class="level2"><h2 class="anchored" data-anchor-id="setup-inicial">Setup inicial</h2>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># #| message: false</span></span>
<span><span class="co"># #| warning: false</span></span>
<span><span class="co"># #Carregando os pacotes</span></span>
<span><span class="co"># library(tidyverse) #para lidar com os dados (ggplot tá aí!)</span></span>
<span><span class="co"># library(lubridate) #para lidar com as datas</span></span>
<span><span class="co"># library(weathermetrics) #para converter a temperatura</span></span>
<span><span class="co"># library(janitor) #clean_names</span></span>
<span><span class="co"># library(ggthemes) #outros temas</span></span>
<span><span class="co"># library(rnaturalearth)</span></span>
<span><span class="co"># library(ggrepel)</span></span>
<span><span class="co"># #library(rcityviews)</span></span>
<span><span class="co"># library(bbplot)</span></span>
<span><span class="co"># library(sf)</span></span>
<span><span class="co"># library(rnaturalearthdata)</span></span>
<span><span class="co"># library(ggrepel)  # Para evitar a sobreposição dos rótulos</span></span>
<span><span class="co"># library(plotly)</span></span>
<span><span class="co"># library(ggtext) # para suportar texto com HTML</span></span>
<span><span class="co"># library(glue) # para criar strings</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Sys.setlocale("LC_TIME", "pt_BR.UTF-8")</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr></section><section id="minha-primeira-viagem-de-avião" class="level2"><h2 class="anchored" data-anchor-id="minha-primeira-viagem-de-avião">Minha primeira viagem de avião</h2>
<p>Minha viagem até Austin foi a primeira que fiz de avião. Foram 15 horas entre voos e paradas. Só tinha ido no Aeroporto de Guarulhos uma vez, uma semana antes para reconhecer o lugar da minha partida.</p>
<p>O trajeto começou em Guarulhos, um pouco depois das 5h. Teve uma parada no Panamá, no aeroporto de Tocumen (onde eu esqueci meu passaporte no caixa de um duty free e fiquei maluca por meia hora até encontrá-lo de novo) e outra em Houston, já no Texas. Na entrada dos EUA tive 58 minutos pra passar na imigração e fazer a conexão. Eu achava que dava tempo de ir no banheiro e fazer um lanche, mas fui bem ingênua em achar que a imigração era rapidinha hehe. Corri muito com as minhas malas num aeroporto muito grande (no aeroporto internacional de Houston você precisa usar trens pra ir de um lugar pro outro).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/aviao2-side.jpeg" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="images/aviao2-side.jpeg" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>Quis criar um mapa para retratar esse itinerário. Fiquei muito impactada vendo o caminho que eu estava fazendo na telinha do avião.</p>
<p>Para fazer esse mapa eu pesquisei as coordenadas de cada aeroporto e criei o dataframe abaixo:</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">## Localização de aeroportos</span></span>
<span><span class="co"># aeroportos &lt;- data.frame(</span></span>
<span><span class="co">#   nome = c("GRU", "PTY", "IAH", "AUS"),</span></span>
<span><span class="co">#   lat = c(-23.435556, 9.071364, 29.990220, 30.197429),</span></span>
<span><span class="co">#   lon = c(-46.473056, -79.383453, -95.341442, -97.666306),</span></span>
<span><span class="co">#   chegada = c(NA, "2022-09-07 10:31", "2022-09-07 19:55", "2022-09-07 22:58"),</span></span>
<span><span class="co">#   saida = c("2022-09-07 05:26", "2022-09-07 15:35", "2022-09-07 22:00", NA))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Processamento de dados</span></span>
<span><span class="co"># aeroportos &lt;- aeroportos %&gt;%</span></span>
<span><span class="co">#   mutate(</span></span>
<span><span class="co">#     chegada = ymd_hm(chegada),</span></span>
<span><span class="co">#     saida = ymd_hm(saida)</span></span>
<span><span class="co">#   ) %&gt;%</span></span>
<span><span class="co">#   mutate(duracao = as.numeric(difftime(chegada, saida, units = "hours")))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Corrigindo a estrutura de dados para rotas</span></span>
<span><span class="co"># rotas &lt;- data.frame(</span></span>
<span><span class="co">#   lat = c(rbind(aeroportos$lat[-nrow(aeroportos)], aeroportos$lat[-1])),</span></span>
<span><span class="co">#   lon = c(rbind(aeroportos$lon[-nrow(aeroportos)], aeroportos$lon[-1]))</span></span>
<span><span class="co"># )</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hora de fazer o mapa! Aqui usei o pacote <code>rnaturalearth</code> para obter as área dos continentes e o <code>ggplot2</code> para plotar</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># # Configuração das cores</span></span>
<span><span class="co"># cor_agua &lt;- "darkblue"</span></span>
<span><span class="co"># cor_terra &lt;- "darkgreen"</span></span>
<span><span class="co"># cor_rota &lt;- "#CC5500"</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Criar um sf object para as Américas</span></span>
<span><span class="co"># americas &lt;- ne_countries(continent = c("south america", "central america", "north america"), returnclass = "sf")</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Limites de visualização com alguma margem</span></span>
<span><span class="co"># xlim &lt;- range(aeroportos$lon, na.rm = TRUE) + c(-70, 70)</span></span>
<span><span class="co"># ylim &lt;- range(aeroportos$lat, na.rm = TRUE) + c(-50, 60)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Desenhar o mapa</span></span>
<span><span class="co"># ggplot() +</span></span>
<span><span class="co">#   geom_sf(data = americas, fill = cor_terra, color = "black") +  # Base do mapa das Américas</span></span>
<span><span class="co">#  # geom_sf(data = st_geometry(americas), fill = cor_agua) +  # Oceano</span></span>
<span><span class="co">#   geom_point(data = aeroportos, aes(x = lon, y = lat), fill = "black", size = 1) +  # Pontos dos aeroportos</span></span>
<span><span class="co">#   geom_text_repel(data = aeroportos, aes(x = lon, y = lat, label = nome), color = "white", size = 4, box.padding = unit(0.35, "lines")) +  # Nomes dos aeroportos com ggrepel</span></span>
<span><span class="co">#   geom_line(data = rotas, aes(x = lon, y = lat), color = cor_rota, size = 0.5, linetype = "dotted") +  # Linhas entre os pontos</span></span>
<span><span class="co">#   labs(title = 'Minha viagem até Austin', subtitle = "O trajeto de mais de 8 mil km que fiz de São Paulo até o Texas") +</span></span>
<span><span class="co">#   coord_sf(xlim = xlim, ylim = ylim, expand = FALSE) +  # Ajustar a visualização</span></span>
<span><span class="co">#   theme_void() +  # Estilo minimalista</span></span>
<span><span class="co">#   theme(plot.background = element_rect(fill = cor_agua),  # Fundo do plot</span></span>
<span><span class="co">#         plot.title = element_text(size = 12, face = "bold", color = "white"),  # Estilo do título</span></span>
<span><span class="co">#         plot.subtitle = element_text(size = 10, color = "white"))  # Estilo do subtítulo</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr></section><section id="tá-calor-até-de-noite" class="level2"><h2 class="anchored" data-anchor-id="tá-calor-até-de-noite">Tá calor até de noite</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="https://i.pinimg.com/736x/9e/f9/bf/9ef9bf2174d0c994e18a181cc0208313.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="https://i.pinimg.com/736x/9e/f9/bf/9ef9bf2174d0c994e18a181cc0208313.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>Cheguei em Austin no finalzinho do verão, mas ainda estava muito quente para os meus padrões (ainda não conhecia os efeitos dessas ondas de calor mais recentes no Brasil né). Quando eu comentava do calor, sempre tinha alguém pra falar “é que você não sentiu nos meses de julho e agosto”. Quase um “lá em Curitiba” reverso.</p>
<p>Eu não gosto das altas temperaturas. Até canto <em>ai que delícia o verão, a gente mostra o ombrinho</em> etc mas minha ligação com o calor acaba aí. Eu tenho pressão baixa então a maior parte do tempo me preocupava em não passar mal (o que aconteceu algumas vezes no TX).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/sol.jpg" class="lightbox" data-glightbox="description: .lightbox-desc-3" data-gallery="quarto-lightbox-gallery-3" title="Bonés, chapéus e óculos de sol viraram meus acessórios favoritos"><img src="images/sol.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="Bonés, chapéus e óculos de sol viraram meus acessórios favoritos"></a></p>
<figcaption>Bonés, chapéus e óculos de sol viraram meus acessórios favoritos</figcaption></figure>
</div>
<p>Os dados eu peguei pra uma tarefa da disciplina <em>Reporting With Data</em>. Como a temperatura estava em Fahrenheit, primeiro tive que converter para Celsius (afinal, aqui é BR). Usei o pacote <code>weathermetrics</code> pra essa tarefa</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># #Carregando os dados</span></span>
<span><span class="co"># ## Temperatura</span></span>
<span><span class="co"># temp &lt;- read.csv2("data-raw/3180668.csv",sep=',') |&gt; </span></span>
<span><span class="co">#   clean_names()</span></span>
<span><span class="co"># # converte os dados de fahrenheit para celsius</span></span>
<span><span class="co"># temp$tmin &lt;- fahrenheit.to.celsius(temp$tmin)</span></span>
<span><span class="co"># temp$tmax &lt;- fahrenheit.to.celsius(temp$tmax)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # uma olhadinha nos dados</span></span>
<span><span class="co"># temp  |&gt;</span></span>
<span><span class="co">#   glimpse()</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Selecionei as colunas de interesse para mostrar a partir do dia que cheguei em Austin (7 de setembro) e criei um gráfico com <code>ggplot2</code>. Minha intenção foi mostrar a amplitude térmica nesse período</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># # #selecionando as colunas de interesse e filtrando o período que eu vou analisar</span></span>
<span><span class="co"># # temp_clean &lt;- temp |&gt; </span></span>
<span><span class="co"># #   select(date, tmax, tmin) |&gt;  </span></span>
<span><span class="co"># #   filter(date &gt; "2022-08-31")</span></span>
<span><span class="co"># # </span></span>
<span><span class="co"># # temp_clean$date &lt;- as.Date(temp_clean$date, format = "%Y-%m-%d")</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Encontrar a data mínima e máxima para criar uma sequência de primeiros dias de cada mês.</span></span>
<span><span class="co"># temp_range &lt;- range(temp_clean$date, na.rm = TRUE)</span></span>
<span><span class="co"># start_dates &lt;- seq(from = floor_date(min(temp_range), "month"), </span></span>
<span><span class="co">#                    to = ceiling_date(max(temp_range), "month"),</span></span>
<span><span class="co">#                    by = "1 month")</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Supondo que 'temp_clean' já está com 'date' no formato Date</span></span>
<span><span class="co"># # Encontrar os dias com os valores desejados</span></span>
<span><span class="co"># dia_com_menor_temperatura &lt;- temp_clean %&gt;% filter(tmin == min(tmin))</span></span>
<span><span class="co"># dia_com_maior_temperatura &lt;- temp_clean %&gt;% filter(tmax == max(tmax))</span></span>
<span><span class="co"># dia_com_maior_amplitude &lt;- temp_clean %&gt;% mutate(amplitude = tmax - tmin) %&gt;% filter(amplitude == max(amplitude))</span></span>
<span><span class="co"># library(ggtext)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Use o ggtext para o subtitle que requer HTML</span></span>
<span><span class="co"># my_title &lt;- glue(</span></span>
<span><span class="co">#   "Registros diários de temperaturas &lt;b&gt;&lt;span style = 'color:blue;'&gt;mínimas&lt;/span&gt;&lt;/b&gt; e &lt;b&gt;&lt;span style = 'color:orange;'&gt;máximas&lt;/span&gt;&lt;/b&gt; em Austin durante meu intercâmbio"</span></span>
<span><span class="co"># )</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Cria o gráfico</span></span>
<span><span class="co"># figura &lt;- ggplot(</span></span>
<span><span class="co">#   temp_clean, aes(x = date)) + </span></span>
<span><span class="co">#   geom_segment(aes(x = date, xend = date, y = tmin, yend = tmax)) +</span></span>
<span><span class="co">#   geom_point(aes(y = tmin), color = "blue", size = 1) +</span></span>
<span><span class="co">#   geom_point(aes(y = tmax), color = "orange", size = 1) +</span></span>
<span><span class="co">#   bbc_style() +</span></span>
<span><span class="co">#   labs(title = "Põe o casaco, tira o casaco",</span></span>
<span><span class="co">#        subtitle = my_title, </span></span>
<span><span class="co">#        x = "Dia", </span></span>
<span><span class="co">#        y = "Temperatura (°C)") +</span></span>
<span><span class="co">#   scale_x_date(date_breaks = "1 month", date_labels = "%d %b") +</span></span>
<span><span class="co">#   geom_vline(data = data.frame(date = seq(min(temp_clean$date), max(temp_clean$date), by = "1 month")),</span></span>
<span><span class="co">#              aes(xintercept = date), linetype = "dashed", color = "gray") +</span></span>
<span><span class="co">#   theme(axis.text.x = element_text(angle = 0, vjust = 0.5, hjust = -1, size = 10))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Adicionar anotações com setas</span></span>
<span><span class="co"># p &lt;- figura + </span></span>
<span><span class="co">#   theme_few() +</span></span>
<span><span class="co">#   annotate(</span></span>
<span><span class="co">#     "text", </span></span>
<span><span class="co">#     x = dia_com_menor_temperatura$date, </span></span>
<span><span class="co">#     y = min(temp_clean$tmin) - 5, </span></span>
<span><span class="co">#     label = "Menor temperatura aconteceu \nno outono: dia 13/11, 1°C", </span></span>
<span><span class="co">#     hjust = 0, </span></span>
<span><span class="co">#     vjust = 0, </span></span>
<span><span class="co">#     size = 3, </span></span>
<span><span class="co">#     color = "black") +</span></span>
<span><span class="co">#   annotate(</span></span>
<span><span class="co">#     "text", </span></span>
<span><span class="co">#     x = dia_com_maior_temperatura$date, </span></span>
<span><span class="co">#     y = max(temp_clean$tmax) + 5, </span></span>
<span><span class="co">#     label = "O dia mais quente: \n22/09, 37°C", </span></span>
<span><span class="co">#     hjust = 1, </span></span>
<span><span class="co">#     vjust = -0.75, </span></span>
<span><span class="co">#     size = 3, </span></span>
<span><span class="co">#     color = "black") +</span></span>
<span><span class="co">#   annotate(</span></span>
<span><span class="co">#     "text", </span></span>
<span><span class="co">#     x = dia_com_maior_amplitude$date, </span></span>
<span><span class="co">#     y = max(temp_clean$tmax) + 10, </span></span>
<span><span class="co">#     label = "No dia 20/10 encarei uma diferença de 20°C \nentre as temperaturas mínima e máxima!", </span></span>
<span><span class="co">#     hjust = 0.5, </span></span>
<span><span class="co">#     vjust = 1, </span></span>
<span><span class="co">#     size = 3, </span></span>
<span><span class="co">#     color = "black") +</span></span>
<span><span class="co">#   geom_curve(</span></span>
<span><span class="co">#     aes(</span></span>
<span><span class="co">#       x = dia_com_menor_temperatura$date, </span></span>
<span><span class="co">#       y = min(temp_clean$tmin), </span></span>
<span><span class="co">#       xend = dia_com_menor_temperatura$date, </span></span>
<span><span class="co">#       yend = min(temp_clean$tmin) - 2),</span></span>
<span><span class="co">#     arrow = arrow(length = unit(0.1, "cm")), color = "black") +</span></span>
<span><span class="co">#   geom_curve(</span></span>
<span><span class="co">#     aes(</span></span>
<span><span class="co">#       x = dia_com_maior_temperatura$date, </span></span>
<span><span class="co">#       y = max(temp_clean$tmax), </span></span>
<span><span class="co">#       xend = dia_com_maior_temperatura$date, </span></span>
<span><span class="co">#       yend = max(temp_clean$tmax) + 8), </span></span>
<span><span class="co">#     arrow = arrow(length = unit(0.1, "cm")), color = "black") +</span></span>
<span><span class="co">#   geom_curve(</span></span>
<span><span class="co">#     aes(</span></span>
<span><span class="co">#       x = dia_com_maior_amplitude$date, </span></span>
<span><span class="co">#       y = (max(temp_clean$tmax) + min(temp_clean$tmin)) / 2, </span></span>
<span><span class="co">#       xend = dia_com_maior_amplitude$date, </span></span>
<span><span class="co">#       yend = max(temp_clean$tmax) + 4), </span></span>
<span><span class="co">#     arrow = arrow(length = unit(0.1, "cm")), color = "black") +</span></span>
<span><span class="co">#   theme(</span></span>
<span><span class="co">#     axis.text.x = element_text(angle = 0, vjust = 0.5, size = 10),</span></span>
<span><span class="co">#     axis.text.y = element_text(size = 10),</span></span>
<span><span class="co">#     plot.title = element_text(size = 14, face = "bold"), # Diminui o tamanho do título</span></span>
<span><span class="co">#     plot.subtitle = ggtext::element_markdown()) # Use o markdown para o subtítulo# Diminui o tamanho do subtítulo</span></span>
<span><span class="co"># p</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Dados de substituição</span></span>
<span><span class="co"># substitute_data &lt;- data.frame(</span></span>
<span><span class="co">#   date = c("2022-09-01", "2022-09-02", "2022-09-03", "2022-09-04", "2022-09-05", "2022-09-06"),</span></span>
<span><span class="co">#   tmin = c(10.3, 12.5, 15.5, 10, 11.3, 13.7),</span></span>
<span><span class="co">#   tmax = c(26.9, 30.2, 23.7, 15.1, 19.3, 23.9)</span></span>
<span><span class="co"># )</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Converter strings de data para tipo Date, se ainda não estiverem</span></span>
<span><span class="co"># substitute_data$date &lt;- as.Date(substitute_data$date, format = "%Y-%m-%d")</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Substituição dos valores de temperatura</span></span>
<span><span class="co"># temp_clean &lt;- temp_clean %&gt;%</span></span>
<span><span class="co">#   mutate(</span></span>
<span><span class="co">#     tmin = ifelse(date %in% substitute_data$date, substitute_data$tmin[match(date, substitute_data$date)], tmin),</span></span>
<span><span class="co">#     tmax = ifelse(date %in% substitute_data$date, substitute_data$tmax[match(date, substitute_data$date)], tmax)</span></span>
<span><span class="co">#   )</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="recebendo-em-brl-gastando-em-usd" class="level2"><h2 class="anchored" data-anchor-id="recebendo-em-brl-gastando-em-usd">Recebendo em BRL, gastando em USD</h2>
<p>Meu período nos EUA foi bancado, em grande parte, pela bolsa de intercâmbio que recebi da Agência USP de Inovação. Como eu iria para os EUA (um lugar um pouco caro, rs), minha bolsa era uma das maiores, R$36 mil. Nunca vi tanto dinheiro kk me senti rica por algumas semanas, mas isso acabou quando a realidade do dólar valendo mais de cinco reais tirou a minha alegria e a esperança de voltar cheia de produtinhos do exterior.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Dica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Você pode ter uma ideia dos meus gastos no <a href="https://internacional.sistemas.eca.usp.br/ecanos/outgoing">relatório</a> que fiz pra Comissão de Relações Internacionais da ECA-USP. Mas também pode me chamar pra papear! Ir para o exterior sem qualquer experiência ou proximidade com pessoas de fora me deixou bem perdida inicialmente. Vamos nos ajudar :)</p>
</div>
</div>
<p>Depois de chorar ao perceber que o dinheiro da bolsa <em>não era tanto assim</em> para o básico e muito menos para gastos extras, fui atrás de uns trampos como freelancer para veículos brasileiros. Ajudou muito! Mas ainda recebia em real e gastava em dólar. Isso me fez adquirir o hábito de acompanhar as variações do câmbio no noticiário e em aplicativos.</p>
<p>Depois desse contexto todo, apresento um gráfico que mostra dados históricos da taxa de câmbio entre o dólar americano (USD) e o real brasileiro (BRL). Normalmente, esses dados incluem informações como data, e valores de abertura, fechamento, máximo, mínimo e variação para cada período considerado (geralmente diário). Neste gráfico, foquei só no valor de fechamento do dólar.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Carregando os dados</span></span>
<span><span class="co">## Câmbio</span></span>
<span><span class="co"># moeda &lt;- read_csv("data-raw/USD_BRL Historical Data.csv") |&gt; </span></span>
<span><span class="co">#   clean_names()</span></span>
<span><span class="co"># moeda$date &lt;- mdy(moeda$date)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Identificar o maior e menor valor de preço</span></span>
<span><span class="co"># moeda &lt;- moeda %&gt;%</span></span>
<span><span class="co">#   mutate(is_extreme = price == max(price) | price == min(price),</span></span>
<span><span class="co">#          label = case_when(</span></span>
<span><span class="co">#            price == max(price) ~ paste("Maior valor no período = R$", round(price, 2)),</span></span>
<span><span class="co">#            price == min(price) ~ paste("Menor valor no período = R$", round(price, 2)),</span></span>
<span><span class="co">#            TRUE ~ NA_character_</span></span>
<span><span class="co">#          ))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># figura &lt;- moeda %&gt;%</span></span>
<span><span class="co">#   ggplot(aes(x = date)) +</span></span>
<span><span class="co">#   geom_line(aes(y = price), color = "red") +  # Linha para os valores de fechamento</span></span>
<span><span class="co">#   geom_point(aes(y = price), color = "blue", size = 1) +  # Pontos para os valores de fechamento</span></span>
<span><span class="co">#   geom_text_repel(data = filter(moeda, is_extreme), aes(y = price, label = label), box.padding = 0.5, point.padding = 0.5, color = "black", size=3) +  # Rótulos para os valores extremos</span></span>
<span><span class="co">#   labs(title = "Valores de fechamento do dólar", subtitle = "Preço em reais durante o período do meu intercâmbio", y = "Preço, em reais") +</span></span>
<span><span class="co">#   theme_minimal() +</span></span>
<span><span class="co">#  # scale_x_date(date_breaks = "1 month", date_labels = "%b") +</span></span>
<span><span class="co">#   theme(axis.title.x = element_blank(),  # Remove o título do eixo y</span></span>
<span><span class="co">#         axis.title.y = element_text(size = 15, angle = 90),</span></span>
<span><span class="co">#         plot.title = element_text(size = 20, face = "bold"))</span></span>
<span><span class="co"># ggplotly(figura)</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="gastando-em-usd" class="level2"><h2 class="anchored" data-anchor-id="gastando-em-usd">… gastando em USD</h2>
<p>Cerca de xx% dos meus gastos no Texas foram em três franquias de mercados: o H-E-B (mercado bem texano), o Target (o OXXO deles) e o Fiesta (o lugar com comidas mais <em>estrangeiras</em>, onde eu podia encontrar Guaraná Antarctica e leite Moça).</p>
<p>Na minha prestação de contas para a USP, fiz uma planilha com todos os meus gastos. Abaixo, separei uma parte dela, contendo os gastos de alimentação:</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># mercado &lt;- read_csv("data-raw/mercado.csv", </span></span>
<span><span class="co">#     col_types = cols(Valor = col_double()), </span></span>
<span><span class="co">#     locale = locale(decimal_mark = ",")) |&gt;</span></span>
<span><span class="co">#   clean_names() |&gt; </span></span>
<span><span class="co">#   glimpse()</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Converter a coluna 'Data' para o tipo data e a coluna 'Valor' para numérico</span></span>
<span><span class="co"># mercado$data &lt;- as.Date(mercado$data, "%d/%m/%Y")</span></span>
<span><span class="co"># mercado$valor &lt;- as.numeric(gsub(",", ".", mercado$valor))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Agrupar os dados por mês e ano e calcular a média de gastos em dólares</span></span>
<span><span class="co"># dados_agrupados &lt;- mercado %&gt;%</span></span>
<span><span class="co">#   mutate(mes = format(data, "%m/%Y")) %&gt;%</span></span>
<span><span class="co">#   group_by(mes, mercado) %&gt;%</span></span>
<span><span class="co">#   summarise(media_gastos = sum(valor, na.rm = TRUE))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># # Criar um gráfico de barras mostrando a média de gastos em dólares por mês</span></span>
<span><span class="co"># ggplot(dados_agrupados, aes(x = mes, y = media_gastos, fill = mercado)) +</span></span>
<span><span class="co">#   geom_bar(stat = "identity") +</span></span>
<span><span class="co">#   labs(title = "Gastos com mercado por mês", subtitle = "Dólares que deixei nos mercados HEB, Fiesta e Target durante os 4 meses que estive nos EUA", x = "mês/ano", y = "USD gastos", caption= "dólar = 5,26") + theme_void() +</span></span>
<span><span class="co">#   theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Inclina o texto do eixo X para melhor visualização</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># mercado$Total_em_reais &lt;- as.numeric(gsub(",", ".", mercado$total_em_reais))</span></span>
<span><span class="co"># total_per_market &lt;- aggregate(total_em_reais ~ mercado, mercado, mean)</span></span>
<span><span class="co"># ggplot(total_per_market, aes(x = mercado, y = total_em_reais, fill = mercado)) +</span></span>
<span><span class="co">#   geom_bar(stat = "identity") +</span></span>
<span><span class="co">#   labs(title = "Quanto gastei por mercado", x = "Mercado", y = "Total em BRL", subtitle = "Apesar de mais distante, HEB foi o meu queridinho para compras; \nFiesta, o com opções mais 'latinas', não me agradou tanto") + theme_classic()</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr></section><section id="one-more-weekend-in-this-city" class="level2"><h2 class="anchored" data-anchor-id="one-more-weekend-in-this-city">One more weekend in this city…</h2>
<p>Austin é uma cidade BEM musical. É a terra do Austin City Limits, programa de TV comandado pelo Willie Nelson</p>
<p>O ACL deu origem ao ACL Festival, festival de música que ocorre anualmente no Zilker Park. E eu pude assistir quatro de seis dias do festival :D Nos três primeiros, fui como voluntária do Austin Parks Foundation, uma organização que ajuda na preservação de parques e áreas verdes da cidade.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/acl.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="images/acl.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></p>
</figure>
</div>
<p>Apesar da minha presença no ACL Fest, tive pouquíssimo contato com a cena local de música. Falha minha. Mas acho que a música me deixava mais próxima de casa e do hábito que não pude “viver plenamente” lá no Texas, o de ir em showzinhos toda semana. Faz sentido na minha cabeça essa necessidade de me manter na zona de conforto, pelo menos musicalmente.</p>
<p>Para acessar os dados musicais sobre o que ouvi no tempo que fiquei nos EUA, baixei os scrobbles do meu Last.fm, exportei como um arquivo csv e importei no RStudio no objeto <code>lastfm.</code> Com o tidyverse, filtrei o período de interesse.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#Carregando os dados</span></span>
<span><span class="co">## Scrobbles no Last.fm</span></span>
<span><span class="co"># lastfm &lt;- read_csv("data-raw/lastfm.csv", </span></span>
<span><span class="co">#                    col_types = cols(date = col_date(format = "%d/%m/%Y"), ))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># #selecionando as colunas de interesse e filtrando o período que eu vou analisar</span></span>
<span><span class="co"># lastfm_clean &lt;- lastfm |&gt; </span></span>
<span><span class="co">#   select(date, Artist, album, track) |&gt;  </span></span>
<span><span class="co">#   filter(date &gt; "2022-09-06" &amp; date &lt; "2023-01-01")</span></span>
<span><span class="co"># lastfm_clean |&gt; DT::datatable()</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="os-artistas-que-mais-ouvi-nos-meus-quatro-meses-nos-eua" class="level3"><h3 class="anchored" data-anchor-id="os-artistas-que-mais-ouvi-nos-meus-quatro-meses-nos-eua">Os artistas que mais ouvi nos meus quatro meses nos EUA</h3>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># lastfm_clean |&gt; </span></span>
<span><span class="co">#   group_by(Artist, track) |&gt; </span></span>
<span><span class="co">#   summarise(ocor = n()) |&gt; </span></span>
<span><span class="co">#   arrange(desc(ocor)) |&gt; </span></span>
<span><span class="co">#   DT::datatable(options = list(pageLength = 5, scrollX=T))</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Curiosamente, a música que mais ouvi nos meus dias texanos leva o nome de CUBA🇨🇺, cantada por um artista do BRASIL🇧🇷. Nem pra ser um country, rs</p>
<p>Mas quando analiso os artistas que mais escutei (soma de reproduções de todas as faixas de cada artista), aí aparece a influência do meu período no texas, com as descobertas que fiz no ACL Fest. No topo do ranking está Japanese Breakfast, banda estadunidense liderada pela Michelle Zauner (sim, a autora de “Aos Prantos no Mercado”).</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># lastfm_clean |&gt; </span></span>
<span><span class="co">#   group_by(Artist) |&gt; </span></span>
<span><span class="co">#   summarise(ocor = n()) |&gt; </span></span>
<span><span class="co">#   arrange(desc(ocor)) |&gt; </span></span>
<span><span class="co">#   DT::datatable()</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># </span></span>
<span><span class="co"># g &lt;- lastfm_clean |&gt; </span></span>
<span><span class="co">#   group_by(Artist) |&gt; </span></span>
<span><span class="co">#   summarise(ocor = n()) |&gt; </span></span>
<span><span class="co">#   arrange(desc(ocor))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># ggplot(head(g,20), aes(reorder(Artist,ocor), ocor)) +</span></span>
<span><span class="co">#   geom_bar(stat = "identity", fill = "#CC5500") + coord_flip() +</span></span>
<span><span class="co">#   labs(</span></span>
<span><span class="co">#     x = "",</span></span>
<span><span class="co">#     title = "Artistas que mais ouvi no Texas",</span></span>
<span><span class="co">#     subtitle = "ACL Fest e minha saudade de casa explicam o top 20",</span></span>
<span><span class="co">#     caption = "por Bianca Muniz (@biancamuniz__) | Fonte: last.fm"</span></span>
<span><span class="co">#   )+</span></span>
<span><span class="co">#   theme_minimal()+</span></span>
<span><span class="co">#   theme(</span></span>
<span><span class="co">#     plot.background = element_rect(fill = "white", colour = "white"),</span></span>
<span><span class="co">#     panel.background = element_rect(fill = "white", colour = "white"),</span></span>
<span><span class="co">#     plot.title=element_text(hjust = 0.5, size = 20, color = "#000000", face="bold"),</span></span>
<span><span class="co">#     plot.title.position = "plot",</span></span>
<span><span class="co">#     plot.caption = element_text(size=10),</span></span>
<span><span class="co">#     plot.subtitle=element_text(face="italic", hjust = 0.5, size=16),</span></span>
<span><span class="co">#     axis.text.y = element_text(size = 10, face="bold"),</span></span>
<span><span class="co">#     axis.text.x = element_blank(), # Remove os valores do eixo x</span></span>
<span><span class="co">#     axis.ticks.x = element_blank(), # Remove as marcações do eixo x</span></span>
<span><span class="co">#     axis.title.x = element_blank(), # Remove o título do eixo x</span></span>
<span><span class="co">#     panel.grid.major = element_blank(),</span></span>
<span><span class="co">#     panel.grid.minor = element_blank(),</span></span>
<span><span class="co">#     panel.border = element_blank(),</span></span>
<span><span class="co">#     axis.line = element_blank()</span></span>
<span><span class="co">#   ) +</span></span>
<span><span class="co">#   geom_text(aes(label=ocor), hjust=-0.1, size=4)</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Outros nomes que vi ao vivo no festival aparecem no “top 20”, como Paramore (3ª posição), Maude Latour (4ª), BENEE (15ª), SZA (18ª) e Lil Nas X (19ª).</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#p &lt;- cityview(name = "Austin", zoom = 1, theme = "comic", border = "circle")</span></span>
<span><span class="co">#p</span></span></code><button title="Copiar para a área de transferência" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/biamuniz\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Powered by <a href="https://quarto.org">Quarto</a>.</p>
</div>   
    <div class="nav-footer-center">
<p>© 2024 Bianca Muniz.</p>
</div>
    <div class="nav-footer-right">
<p>License: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY NC SA 4.0</a>.</p>
</div>
  </div>
</footer><script type="text/javascript">
const dateElements = document.querySelectorAll("p.date, div.listing-date, div.listing-file-modified");
dateElements.forEach((el) => {
  el.innerHTML = el.innerHTML.replace(
    /(\d+)(st|nd|rd|th)/g,
    "$1<sup style='font-size:0.5em;font-style:italic;'>$2</sup>"
  );
});
</script><script>var lightboxQuarto = GLightbox({"openEffect":"zoom","selector":".lightbox","loop":false,"closeEffect":"zoom","descPosition":"bottom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>


</body></html>