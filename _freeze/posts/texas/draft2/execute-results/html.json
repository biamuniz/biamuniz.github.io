{
  "hash": "64d2014c6820755ef43f91337fc33370",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"ggploTX\"\nsubtitle: \"ou: minha experi√™ncia na cidade de Austin por meio de dados e gr√°ficos feitos em R\"\ndate: \"2024-03-24\"\ncategories: \n# exemplo de categorias:\n  - \"Texas\"\n  - \"R\"\n  - \"Interc√¢mbio\"\nlang: pt\ntoc: true \ndraft: true \nexecute: \n  warning: false\n  message: false\n  freeze: true\n---\n\n\nEstive em Austin durante quatro meses em 2022. Entre setembro e dezembro, precisei lidar com #PerrenguesChiques (situa√ß√µes que te irritam mas vc t√° no exterior, ent√£o tem um glamour nesse inc√¥modo), como o calor texano e acompanhar as varia√ß√µes do d√≥lar, mas conheci lugares, pessoas, novos h√°bitos maravilhosos e um pouco mais sobre mim.\n\nNa tentativa de treinar minha flu√™ncia no tidyverse e conhecer outros pacotes do R, revisitei umas informa√ß√µes do meu per√≠odo de interc√¢mbio. Eu estruturei muitos dados nessa √©poca, aqueles que j√° rastreio automaticamente (como scrobbles do last.fm) ou os que tive que monitorar para presta√ß√£o de contas (o c√¢mbio, minhas notas fiscais).\n\nEsse post √© um relato \"dataficado\" da cidade mais esquisita do Texas.\n\n## Setup inicial\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# #| message: false\n# #| warning: false\n# #Carregando os pacotes\n# library(tidyverse) #para lidar com os dados (ggplot t√° a√≠!)\n# library(lubridate) #para lidar com as datas\n# library(weathermetrics) #para converter a temperatura\n# library(janitor) #clean_names\n# library(ggthemes) #outros temas\n# library(rnaturalearth)\n# library(ggrepel)\n# #library(rcityviews)\n# library(bbplot)\n# library(sf)\n# library(rnaturalearthdata)\n# library(ggrepel)  # Para evitar a sobreposi√ß√£o dos r√≥tulos\n# library(plotly)\n# library(ggtext) # para suportar texto com HTML\n# library(glue) # para criar strings\n# \n# Sys.setlocale(\"LC_TIME\", \"pt_BR.UTF-8\")\n```\n:::\n\n\n------------------------------------------------------------------------\n\n## Minha primeira viagem de avi√£o\n\nMinha viagem at√© Austin foi a primeira que fiz de avi√£o. Foram 15 horas entre voos e paradas. S√≥ tinha ido no Aeroporto de Guarulhos uma vez, uma semana antes para reconhecer o lugar da minha partida.\n\nO trajeto come√ßou em Guarulhos, um pouco depois das 5h. Teve uma parada no Panam√°, no aeroporto de Tocumen (onde eu esqueci meu passaporte no caixa de um duty free e fiquei maluca por meia hora at√© encontr√°-lo de novo) e outra em Houston, j√° no Texas. Na entrada dos EUA tive 58 minutos pra passar na imigra√ß√£o e fazer a conex√£o. Eu achava que dava tempo de ir no banheiro e fazer um lanche, mas fui bem ing√™nua em achar que a imigra√ß√£o era rapidinha hehe. Corri muito com as minhas malas num aeroporto muito grande (no aeroporto internacional de Houston voc√™ precisa usar trens pra ir de um lugar pro outro).\n\n![](images/aviao2-side.jpeg){fig-align=\"center\"}\n\nQuis criar um mapa para retratar esse itiner√°rio. Fiquei muito impactada vendo o caminho que eu estava fazendo na telinha do avi√£o.\n\nPara fazer esse mapa eu pesquisei as coordenadas de cada aeroporto e criei o dataframe abaixo:\n\n  \n\n::: {.cell}\n\n```{.r .cell-code}\n## Localiza√ß√£o de aeroportos\n# aeroportos <- data.frame(\n#   nome = c(\"GRU\", \"PTY\", \"IAH\", \"AUS\"),\n#   lat = c(-23.435556, 9.071364, 29.990220, 30.197429),\n#   lon = c(-46.473056, -79.383453, -95.341442, -97.666306),\n#   chegada = c(NA, \"2022-09-07 10:31\", \"2022-09-07 19:55\", \"2022-09-07 22:58\"),\n#   saida = c(\"2022-09-07 05:26\", \"2022-09-07 15:35\", \"2022-09-07 22:00\", NA))\n# \n# # Processamento de dados\n# aeroportos <- aeroportos %>%\n#   mutate(\n#     chegada = ymd_hm(chegada),\n#     saida = ymd_hm(saida)\n#   ) %>%\n#   mutate(duracao = as.numeric(difftime(chegada, saida, units = \"hours\")))\n# \n# # Corrigindo a estrutura de dados para rotas\n# rotas <- data.frame(\n#   lat = c(rbind(aeroportos$lat[-nrow(aeroportos)], aeroportos$lat[-1])),\n#   lon = c(rbind(aeroportos$lon[-nrow(aeroportos)], aeroportos$lon[-1]))\n# )\n```\n:::\n\n\nHora de fazer o mapa! Aqui usei o pacote `rnaturalearth` para obter as √°rea dos continentes e o `ggplot2` para plotar\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# # Configura√ß√£o das cores\n# cor_agua <- \"darkblue\"\n# cor_terra <- \"darkgreen\"\n# cor_rota <- \"#CC5500\"\n# \n# # Criar um sf object para as Am√©ricas\n# americas <- ne_countries(continent = c(\"south america\", \"central america\", \"north america\"), returnclass = \"sf\")\n# \n# # Limites de visualiza√ß√£o com alguma margem\n# xlim <- range(aeroportos$lon, na.rm = TRUE) + c(-70, 70)\n# ylim <- range(aeroportos$lat, na.rm = TRUE) + c(-50, 60)\n# \n# # Desenhar o mapa\n# ggplot() +\n#   geom_sf(data = americas, fill = cor_terra, color = \"black\") +  # Base do mapa das Am√©ricas\n#  # geom_sf(data = st_geometry(americas), fill = cor_agua) +  # Oceano\n#   geom_point(data = aeroportos, aes(x = lon, y = lat), fill = \"black\", size = 1) +  # Pontos dos aeroportos\n#   geom_text_repel(data = aeroportos, aes(x = lon, y = lat, label = nome), color = \"white\", size = 4, box.padding = unit(0.35, \"lines\")) +  # Nomes dos aeroportos com ggrepel\n#   geom_line(data = rotas, aes(x = lon, y = lat), color = cor_rota, size = 0.5, linetype = \"dotted\") +  # Linhas entre os pontos\n#   labs(title = 'Minha viagem at√© Austin', subtitle = \"O trajeto de mais de 8 mil km que fiz de S√£o Paulo at√© o Texas\") +\n#   coord_sf(xlim = xlim, ylim = ylim, expand = FALSE) +  # Ajustar a visualiza√ß√£o\n#   theme_void() +  # Estilo minimalista\n#   theme(plot.background = element_rect(fill = cor_agua),  # Fundo do plot\n#         plot.title = element_text(size = 12, face = \"bold\", color = \"white\"),  # Estilo do t√≠tulo\n#         plot.subtitle = element_text(size = 10, color = \"white\"))  # Estilo do subt√≠tulo\n\n```\n:::\n\n\n------------------------------------------------------------------------\n\n## T√° calor at√© de noite\n\n![](https://i.pinimg.com/736x/9e/f9/bf/9ef9bf2174d0c994e18a181cc0208313.jpg){fig-align=\"center\"}\n\nCheguei em Austin no finalzinho do ver√£o, mas ainda estava muito quente para os meus padr√µes (ainda n√£o conhecia os efeitos dessas ondas de calor mais recentes no Brasil n√©). Quando eu comentava do calor, sempre tinha algu√©m pra falar \"√© que voc√™ n√£o sentiu nos meses de julho e agosto\". Quase um \"l√° em Curitiba\" reverso.\n\nEu n√£o gosto das altas temperaturas. At√© canto *ai que del√≠cia o ver√£o, a gente mostra o ombrinho* etc mas minha liga√ß√£o com o calor acaba a√≠. Eu tenho press√£o baixa ent√£o a maior parte do tempo me preocupava em n√£o passar mal (o que aconteceu algumas vezes no TX).\n\n![Bon√©s, chap√©us e √≥culos de sol viraram meus acess√≥rios favoritos](images/sol.jpg){fig-align=\"center\"}\n\nOs dados eu peguei pra uma tarefa da disciplina *Reporting With Data*. Como a temperatura estava em Fahrenheit, primeiro tive que converter para Celsius (afinal, aqui √© BR). Usei o pacote `weathermetrics` pra essa tarefa\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# #Carregando os dados\n# ## Temperatura\n# temp <- read.csv2(\"data-raw/3180668.csv\",sep=',') |> \n#   clean_names()\n# # converte os dados de fahrenheit para celsius\n# temp$tmin <- fahrenheit.to.celsius(temp$tmin)\n# temp$tmax <- fahrenheit.to.celsius(temp$tmax)\n# \n# # uma olhadinha nos dados\n# temp  |>\n#   glimpse()\n```\n:::\n\n\nSelecionei as colunas de interesse para mostrar a partir do dia que cheguei em Austin (7 de setembro) e criei um gr√°fico com `ggplot2`. Minha inten√ß√£o foi mostrar a amplitude t√©rmica nesse per√≠odo\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# # #selecionando as colunas de interesse e filtrando o per√≠odo que eu vou analisar\n# # temp_clean <- temp |> \n# #   select(date, tmax, tmin) |>  \n# #   filter(date > \"2022-08-31\")\n# # \n# # temp_clean$date <- as.Date(temp_clean$date, format = \"%Y-%m-%d\")\n# \n# # Encontrar a data m√≠nima e m√°xima para criar uma sequ√™ncia de primeiros dias de cada m√™s.\n# temp_range <- range(temp_clean$date, na.rm = TRUE)\n# start_dates <- seq(from = floor_date(min(temp_range), \"month\"), \n#                    to = ceiling_date(max(temp_range), \"month\"),\n#                    by = \"1 month\")\n# \n# # Supondo que 'temp_clean' j√° est√° com 'date' no formato Date\n# # Encontrar os dias com os valores desejados\n# dia_com_menor_temperatura <- temp_clean %>% filter(tmin == min(tmin))\n# dia_com_maior_temperatura <- temp_clean %>% filter(tmax == max(tmax))\n# dia_com_maior_amplitude <- temp_clean %>% mutate(amplitude = tmax - tmin) %>% filter(amplitude == max(amplitude))\n# library(ggtext)\n# \n# \n# # Use o ggtext para o subtitle que requer HTML\n# my_title <- glue(\n#   \"Registros di√°rios de temperaturas <b><span style = 'color:blue;'>m√≠nimas</span></b> e <b><span style = 'color:orange;'>m√°ximas</span></b> em Austin durante meu interc√¢mbio\"\n# )\n# \n# # Cria o gr√°fico\n# figura <- ggplot(\n#   temp_clean, aes(x = date)) + \n#   geom_segment(aes(x = date, xend = date, y = tmin, yend = tmax)) +\n#   geom_point(aes(y = tmin), color = \"blue\", size = 1) +\n#   geom_point(aes(y = tmax), color = \"orange\", size = 1) +\n#   bbc_style() +\n#   labs(title = \"P√µe o casaco, tira o casaco\",\n#        subtitle = my_title, \n#        x = \"Dia\", \n#        y = \"Temperatura (¬∞C)\") +\n#   scale_x_date(date_breaks = \"1 month\", date_labels = \"%d %b\") +\n#   geom_vline(data = data.frame(date = seq(min(temp_clean$date), max(temp_clean$date), by = \"1 month\")),\n#              aes(xintercept = date), linetype = \"dashed\", color = \"gray\") +\n#   theme(axis.text.x = element_text(angle = 0, vjust = 0.5, hjust = -1, size = 10))\n# \n# # Adicionar anota√ß√µes com setas\n# p <- figura + \n#   theme_few() +\n#   annotate(\n#     \"text\", \n#     x = dia_com_menor_temperatura$date, \n#     y = min(temp_clean$tmin) - 5, \n#     label = \"Menor temperatura aconteceu \\nno outono: dia 13/11, 1¬∞C\", \n#     hjust = 0, \n#     vjust = 0, \n#     size = 3, \n#     color = \"black\") +\n#   annotate(\n#     \"text\", \n#     x = dia_com_maior_temperatura$date, \n#     y = max(temp_clean$tmax) + 5, \n#     label = \"O dia mais quente: \\n22/09, 37¬∞C\", \n#     hjust = 1, \n#     vjust = -0.75, \n#     size = 3, \n#     color = \"black\") +\n#   annotate(\n#     \"text\", \n#     x = dia_com_maior_amplitude$date, \n#     y = max(temp_clean$tmax) + 10, \n#     label = \"No dia 20/10 encarei uma diferen√ßa de 20¬∞C \\nentre as temperaturas m√≠nima e m√°xima!\", \n#     hjust = 0.5, \n#     vjust = 1, \n#     size = 3, \n#     color = \"black\") +\n#   geom_curve(\n#     aes(\n#       x = dia_com_menor_temperatura$date, \n#       y = min(temp_clean$tmin), \n#       xend = dia_com_menor_temperatura$date, \n#       yend = min(temp_clean$tmin) - 2),\n#     arrow = arrow(length = unit(0.1, \"cm\")), color = \"black\") +\n#   geom_curve(\n#     aes(\n#       x = dia_com_maior_temperatura$date, \n#       y = max(temp_clean$tmax), \n#       xend = dia_com_maior_temperatura$date, \n#       yend = max(temp_clean$tmax) + 8), \n#     arrow = arrow(length = unit(0.1, \"cm\")), color = \"black\") +\n#   geom_curve(\n#     aes(\n#       x = dia_com_maior_amplitude$date, \n#       y = (max(temp_clean$tmax) + min(temp_clean$tmin)) / 2, \n#       xend = dia_com_maior_amplitude$date, \n#       yend = max(temp_clean$tmax) + 4), \n#     arrow = arrow(length = unit(0.1, \"cm\")), color = \"black\") +\n#   theme(\n#     axis.text.x = element_text(angle = 0, vjust = 0.5, size = 10),\n#     axis.text.y = element_text(size = 10),\n#     plot.title = element_text(size = 14, face = \"bold\"), # Diminui o tamanho do t√≠tulo\n#     plot.subtitle = ggtext::element_markdown()) # Use o markdown para o subt√≠tulo# Diminui o tamanho do subt√≠tulo\n# p\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Dados de substitui√ß√£o\n# substitute_data <- data.frame(\n#   date = c(\"2022-09-01\", \"2022-09-02\", \"2022-09-03\", \"2022-09-04\", \"2022-09-05\", \"2022-09-06\"),\n#   tmin = c(10.3, 12.5, 15.5, 10, 11.3, 13.7),\n#   tmax = c(26.9, 30.2, 23.7, 15.1, 19.3, 23.9)\n# )\n# \n# # Converter strings de data para tipo Date, se ainda n√£o estiverem\n# substitute_data$date <- as.Date(substitute_data$date, format = \"%Y-%m-%d\")\n# \n# # Substitui√ß√£o dos valores de temperatura\n# temp_clean <- temp_clean %>%\n#   mutate(\n#     tmin = ifelse(date %in% substitute_data$date, substitute_data$tmin[match(date, substitute_data$date)], tmin),\n#     tmax = ifelse(date %in% substitute_data$date, substitute_data$tmax[match(date, substitute_data$date)], tmax)\n#   )\n\n```\n:::\n\n\n\n\n## Recebendo em BRL, gastando em USD\n\nMeu per√≠odo nos EUA foi bancado, em grande parte, pela bolsa de interc√¢mbio que recebi da Ag√™ncia USP de Inova√ß√£o. Como eu iria para os EUA (um lugar um pouco caro, rs), minha bolsa era uma das maiores, R\\$36 mil. Nunca vi tanto dinheiro kk me senti rica por algumas semanas, mas isso acabou quando a realidade do d√≥lar valendo mais de cinco reais tirou a minha alegria e a esperan√ßa de voltar cheia de produtinhos do exterior.\n\n::: callout-tip\nVoc√™ pode ter uma ideia dos meus gastos no [relat√≥rio](https://internacional.sistemas.eca.usp.br/ecanos/outgoing) que fiz pra Comiss√£o de Rela√ß√µes Internacionais da ECA-USP. Mas tamb√©m pode me chamar pra papear! Ir para o exterior sem qualquer experi√™ncia ou proximidade com pessoas de fora me deixou bem perdida inicialmente. Vamos nos ajudar :)\n:::\n\nDepois de chorar ao perceber que o dinheiro da bolsa *n√£o era tanto assim* para o b√°sico e muito menos para gastos extras, fui atr√°s de uns trampos como freelancer para ve√≠culos brasileiros. Ajudou muito! Mas ainda recebia em real e gastava em d√≥lar. Isso me fez adquirir o h√°bito de acompanhar as varia√ß√µes do c√¢mbio no notici√°rio e em aplicativos.\n\nDepois desse contexto todo, apresento um gr√°fico que mostra dados hist√≥ricos da taxa de c√¢mbio entre o d√≥lar americano (USD) e o real brasileiro (BRL). Normalmente, esses dados incluem informa√ß√µes como data, e valores de abertura, fechamento, m√°ximo, m√≠nimo e varia√ß√£o para cada per√≠odo considerado (geralmente di√°rio). Neste gr√°fico, foquei s√≥ no valor de fechamento do d√≥lar.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Carregando os dados\n## C√¢mbio\n# moeda <- read_csv(\"data-raw/USD_BRL Historical Data.csv\") |> \n#   clean_names()\n# moeda$date <- mdy(moeda$date)\n# \n# \n# # Identificar o maior e menor valor de pre√ßo\n# moeda <- moeda %>%\n#   mutate(is_extreme = price == max(price) | price == min(price),\n#          label = case_when(\n#            price == max(price) ~ paste(\"Maior valor no per√≠odo = R$\", round(price, 2)),\n#            price == min(price) ~ paste(\"Menor valor no per√≠odo = R$\", round(price, 2)),\n#            TRUE ~ NA_character_\n#          ))\n# \n# figura <- moeda %>%\n#   ggplot(aes(x = date)) +\n#   geom_line(aes(y = price), color = \"red\") +  # Linha para os valores de fechamento\n#   geom_point(aes(y = price), color = \"blue\", size = 1) +  # Pontos para os valores de fechamento\n#   geom_text_repel(data = filter(moeda, is_extreme), aes(y = price, label = label), box.padding = 0.5, point.padding = 0.5, color = \"black\", size=3) +  # R√≥tulos para os valores extremos\n#   labs(title = \"Valores de fechamento do d√≥lar\", subtitle = \"Pre√ßo em reais durante o per√≠odo do meu interc√¢mbio\", y = \"Pre√ßo, em reais\") +\n#   theme_minimal() +\n#  # scale_x_date(date_breaks = \"1 month\", date_labels = \"%b\") +\n#   theme(axis.title.x = element_blank(),  # Remove o t√≠tulo do eixo y\n#         axis.title.y = element_text(size = 15, angle = 90),\n#         plot.title = element_text(size = 20, face = \"bold\"))\n# ggplotly(figura)\n\n```\n:::\n\n\n## ... gastando em USD\n\nCerca de xx% dos meus gastos no Texas foram em tr√™s franquias de mercados: o H-E-B (mercado bem texano), o Target (o OXXO deles) e o Fiesta (o lugar com comidas mais *estrangeiras*, onde eu podia encontrar Guaran√° Antarctica e leite Mo√ßa).\n\nNa minha presta√ß√£o de contas para a USP, fiz uma planilha com todos os meus gastos. Abaixo, separei uma parte dela, contendo os gastos de alimenta√ß√£o:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# mercado <- read_csv(\"data-raw/mercado.csv\", \n#     col_types = cols(Valor = col_double()), \n#     locale = locale(decimal_mark = \",\")) |>\n#   clean_names() |> \n#   glimpse()\n# \n# \n# # Converter a coluna 'Data' para o tipo data e a coluna 'Valor' para num√©rico\n# mercado$data <- as.Date(mercado$data, \"%d/%m/%Y\")\n# mercado$valor <- as.numeric(gsub(\",\", \".\", mercado$valor))\n# \n# # Agrupar os dados por m√™s e ano e calcular a m√©dia de gastos em d√≥lares\n# dados_agrupados <- mercado %>%\n#   mutate(mes = format(data, \"%m/%Y\")) %>%\n#   group_by(mes, mercado) %>%\n#   summarise(media_gastos = sum(valor, na.rm = TRUE))\n# \n# # Criar um gr√°fico de barras mostrando a m√©dia de gastos em d√≥lares por m√™s\n# ggplot(dados_agrupados, aes(x = mes, y = media_gastos, fill = mercado)) +\n#   geom_bar(stat = \"identity\") +\n#   labs(title = \"Gastos com mercado por m√™s\", subtitle = \"D√≥lares que deixei nos mercados HEB, Fiesta e Target durante os 4 meses que estive nos EUA\", x = \"m√™s/ano\", y = \"USD gastos\", caption= \"d√≥lar = 5,26\") + theme_void() +\n#   theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Inclina o texto do eixo X para melhor visualiza√ß√£o\n# \n# mercado$Total_em_reais <- as.numeric(gsub(\",\", \".\", mercado$total_em_reais))\n# total_per_market <- aggregate(total_em_reais ~ mercado, mercado, mean)\n# ggplot(total_per_market, aes(x = mercado, y = total_em_reais, fill = mercado)) +\n#   geom_bar(stat = \"identity\") +\n#   labs(title = \"Quanto gastei por mercado\", x = \"Mercado\", y = \"Total em BRL\", subtitle = \"Apesar de mais distante, HEB foi o meu queridinho para compras; \\nFiesta, o com op√ß√µes mais 'latinas', n√£o me agradou tanto\") + theme_classic()\n\n```\n:::\n\n\n------------------------------------------------------------------------\n\n## One more weekend in this city...\n\nAustin √© uma cidade BEM musical. √â a terra do Austin City Limits, programa de TV comandado pelo Willie Nelson\n\nO ACL deu origem ao ACL Festival, festival de m√∫sica que ocorre anualmente no Zilker Park. E eu pude assistir quatro de seis dias do festival :D Nos tr√™s primeiros, fui como volunt√°ria do Austin Parks Foundation, uma organiza√ß√£o que ajuda na preserva√ß√£o de parques e √°reas verdes da cidade.\n\n![](images/acl.png){fig-align=\"center\"}\n\nApesar da minha presen√ßa no ACL Fest, tive pouqu√≠ssimo contato com a cena local de m√∫sica. Falha minha. Mas acho que a m√∫sica me deixava mais pr√≥xima de casa e do h√°bito que n√£o pude \"viver plenamente\" l√° no Texas, o de ir em showzinhos toda semana. Faz sentido na minha cabe√ßa essa necessidade de me manter na zona de conforto, pelo menos musicalmente.\n\nPara acessar os dados musicais sobre o que ouvi no tempo que fiquei nos EUA, baixei os scrobbles do meu Last.fm, exportei como um arquivo csv e importei no RStudio no objeto `lastfm.` Com o tidyverse, filtrei o per√≠odo de interesse.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Carregando os dados\n## Scrobbles no Last.fm\n# lastfm <- read_csv(\"data-raw/lastfm.csv\", \n#                    col_types = cols(date = col_date(format = \"%d/%m/%Y\"), ))\n# \n# #selecionando as colunas de interesse e filtrando o per√≠odo que eu vou analisar\n# lastfm_clean <- lastfm |> \n#   select(date, Artist, album, track) |>  \n#   filter(date > \"2022-09-06\" & date < \"2023-01-01\")\n# lastfm_clean |> DT::datatable()\n```\n:::\n\n\n### Os artistas que mais ouvi nos meus quatro meses nos EUA\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# lastfm_clean |> \n#   group_by(Artist, track) |> \n#   summarise(ocor = n()) |> \n#   arrange(desc(ocor)) |> \n#   DT::datatable(options = list(pageLength = 5, scrollX=T))\n```\n:::\n\n\nCuriosamente, a m√∫sica que mais ouvi nos meus dias texanos leva o nome de CUBAüá®üá∫, cantada por um artista do BRASILüáßüá∑. Nem pra ser um country, rs\n\nMas quando analiso os artistas que mais escutei (soma de reprodu√ß√µes de todas as faixas de cada artista), a√≠ aparece a influ√™ncia do meu per√≠odo no texas, com as descobertas que fiz no ACL Fest. No topo do ranking est√° Japanese Breakfast, banda estadunidense liderada pela Michelle Zauner (sim, a autora de \"Aos Prantos no Mercado\").\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# lastfm_clean |> \n#   group_by(Artist) |> \n#   summarise(ocor = n()) |> \n#   arrange(desc(ocor)) |> \n#   DT::datatable()\n# \n# \n# g <- lastfm_clean |> \n#   group_by(Artist) |> \n#   summarise(ocor = n()) |> \n#   arrange(desc(ocor))\n# \n# ggplot(head(g,20), aes(reorder(Artist,ocor), ocor)) +\n#   geom_bar(stat = \"identity\", fill = \"#CC5500\") + coord_flip() +\n#   labs(\n#     x = \"\",\n#     title = \"Artistas que mais ouvi no Texas\",\n#     subtitle = \"ACL Fest e minha saudade de casa explicam o top 20\",\n#     caption = \"por Bianca Muniz (@biancamuniz__) | Fonte: last.fm\"\n#   )+\n#   theme_minimal()+\n#   theme(\n#     plot.background = element_rect(fill = \"white\", colour = \"white\"),\n#     panel.background = element_rect(fill = \"white\", colour = \"white\"),\n#     plot.title=element_text(hjust = 0.5, size = 20, color = \"#000000\", face=\"bold\"),\n#     plot.title.position = \"plot\",\n#     plot.caption = element_text(size=10),\n#     plot.subtitle=element_text(face=\"italic\", hjust = 0.5, size=16),\n#     axis.text.y = element_text(size = 10, face=\"bold\"),\n#     axis.text.x = element_blank(), # Remove os valores do eixo x\n#     axis.ticks.x = element_blank(), # Remove as marca√ß√µes do eixo x\n#     axis.title.x = element_blank(), # Remove o t√≠tulo do eixo x\n#     panel.grid.major = element_blank(),\n#     panel.grid.minor = element_blank(),\n#     panel.border = element_blank(),\n#     axis.line = element_blank()\n#   ) +\n#   geom_text(aes(label=ocor), hjust=-0.1, size=4)\n```\n:::\n\n\nOutros nomes que vi ao vivo no festival aparecem no \"top 20\", como Paramore (3¬™ posi√ß√£o), Maude Latour (4¬™), BENEE (15¬™), SZA (18¬™) e Lil Nas X (19¬™).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#p <- cityview(name = \"Austin\", zoom = 1, theme = \"comic\", border = \"circle\")\n#p\n```\n:::\n",
    "supporting": [
      "draft2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}